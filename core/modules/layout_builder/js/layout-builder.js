/**
* DO NOT EDIT THIS FILE.
* See the following change record for more information,
* https://www.drupal.org/node/2815083
* @preserve
**/

(function ($, _ref) {
  var ajax = _ref.ajax,
      behaviors = _ref.behaviors;

  behaviors.layoutBuilder = {
    attach: function attach(context) {
      $(context).find('.layout-builder--layout__region').sortable({
        items: '> .draggable',
        connectWith: '.layout-builder--layout__region',
        placeholder: 'ui-state-drop',

        update: function update(event, ui) {
          var itemRegion = ui.item.closest('.layout-builder--layout__region');
          if (event.target === itemRegion[0]) {
            var deltaTo = ui.item.closest('[data-layout-delta]').data('layout-delta');

            var deltaFrom = ui.sender ? ui.sender.closest('[data-layout-delta]').data('layout-delta') : deltaTo;
            ajax({
              url: [ui.item.closest('[data-layout-update-url]').data('layout-update-url'), deltaFrom, deltaTo, itemRegion.data('region'), ui.item.data('layout-block-uuid'), ui.item.prev('[data-layout-block-uuid]').data('layout-block-uuid')].filter(function (element) {
                return element !== undefined;
              }).join('/')
            }).execute();
          }
        }
      });
      $('.layout-builder-block-reorder-previous a').once().on('click.layoutbuilder', function (e) {
        function setContextualLinkFocus(link) {
          var button = $(link).closest('[data-contextual-id]').find('button.trigger');
          $(link).trigger('blur');
          button.trigger('focus');
          var returnEvent = jQuery.Event("keydown");
          returnEvent.which = 13;
          button.trigger(returnEvent);
          $(link).closest('[data-contextual-id]').find('.contextual-links').style('display', 'block');
          var tabEvent = jQuery.Event("keydown");
          tabEvent.which = 9;
          $(document.activeElement).trigger(tabEvent);
          $(document.activeElement).trigger(tabEvent);
          $(document.activeElement).trigger(tabEvent);
        }
        var current = $(e.target).closest('.draggable');

        var prev = current.prev();
        prev.before(current);
        e.preventDefault();
        e.stopPropagation();
        setContextualLinkFocus(e.target);
        return;
        var newNode = document.createElement("span");
        newNode.classList.add('ui-state-drop');

        current.parentNode.insertBefore(newNode, current);
      });
    }
  };
})(jQuery, Drupal);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxheW91dC1idWlsZGVyLmVzNi5qcyJdLCJuYW1lcyI6WyIkIiwiYWpheCIsImJlaGF2aW9ycyIsImxheW91dEJ1aWxkZXIiLCJhdHRhY2giLCJjb250ZXh0IiwiZmluZCIsInNvcnRhYmxlIiwiaXRlbXMiLCJjb25uZWN0V2l0aCIsInBsYWNlaG9sZGVyIiwidXBkYXRlIiwiZXZlbnQiLCJ1aSIsIml0ZW1SZWdpb24iLCJpdGVtIiwiY2xvc2VzdCIsInRhcmdldCIsImRlbHRhVG8iLCJkYXRhIiwiZGVsdGFGcm9tIiwic2VuZGVyIiwidXJsIiwicHJldiIsImZpbHRlciIsImVsZW1lbnQiLCJ1bmRlZmluZWQiLCJqb2luIiwiZXhlY3V0ZSIsIm9uY2UiLCJvbiIsInNldENvbnRleHR1YWxMaW5rRm9jdXMiLCJsaW5rIiwiYnV0dG9uIiwidHJpZ2dlciIsInJldHVybkV2ZW50IiwialF1ZXJ5IiwiRXZlbnQiLCJ3aGljaCIsInN0eWxlIiwidGFiRXZlbnQiLCJkb2N1bWVudCIsImFjdGl2ZUVsZW1lbnQiLCJjdXJyZW50IiwiZSIsImJlZm9yZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwibmV3Tm9kZSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiRHJ1cGFsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsQ0FBQyxVQUFDQSxDQUFELFFBQTRCO0FBQUEsTUFBdEJDLElBQXNCLFFBQXRCQSxJQUFzQjtBQUFBLE1BQWhCQyxTQUFnQixRQUFoQkEsU0FBZ0I7O0FBQzNCQSxZQUFVQyxhQUFWLEdBQTBCO0FBQ3hCQyxVQUR3QixrQkFDakJDLE9BRGlCLEVBQ1I7QUFDZEwsUUFBRUssT0FBRixFQUNHQyxJQURILENBQ1EsaUNBRFIsRUFFR0MsUUFGSCxDQUVZO0FBQ1JDLGVBQU8sY0FEQztBQUVSQyxxQkFBYSxpQ0FGTDtBQUdSQyxxQkFBYSxlQUhMOztBQWFSQyxjQWJR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RkdQLE1BekZILEVBeUZXa0IsTUF6RlgiLCJmaWxlIjoibGF5b3V0LWJ1aWxkZXIuZXM2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiKCgkLCB7IGFqYXgsIGJlaGF2aW9ycyB9KSA9PiB7XG4gIGJlaGF2aW9ycy5sYXlvdXRCdWlsZGVyID0ge1xuICAgIGF0dGFjaChjb250ZXh0KSB7XG4gICAgICAkKGNvbnRleHQpXG4gICAgICAgIC5maW5kKCcubGF5b3V0LWJ1aWxkZXItLWxheW91dF9fcmVnaW9uJylcbiAgICAgICAgLnNvcnRhYmxlKHtcbiAgICAgICAgICBpdGVtczogJz4gLmRyYWdnYWJsZScsXG4gICAgICAgICAgY29ubmVjdFdpdGg6ICcubGF5b3V0LWJ1aWxkZXItLWxheW91dF9fcmVnaW9uJyxcbiAgICAgICAgICBwbGFjZWhvbGRlcjogJ3VpLXN0YXRlLWRyb3AnLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogVXBkYXRlcyB0aGUgbGF5b3V0IHdpdGggdGhlIG5ldyBwb3NpdGlvbiBvZiB0aGUgYmxvY2suXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBAcGFyYW0ge2pRdWVyeS5FdmVudH0gZXZlbnRcbiAgICAgICAgICAgKiAgIFRoZSBqUXVlcnkgRXZlbnQgb2JqZWN0LlxuICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB1aVxuICAgICAgICAgICAqICAgQW4gb2JqZWN0IGNvbnRhaW5pbmcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGl0ZW0gYmVpbmcgc29ydGVkLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHVwZGF0ZShldmVudCwgdWkpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSByZWdpb24gZnJvbSB0aGUgZXZlbnQgYW5kIHJlZ2lvbiBmb3IgdGhlIGl0ZW0gbWF0Y2guXG4gICAgICAgICAgICBjb25zdCBpdGVtUmVnaW9uID0gdWkuaXRlbS5jbG9zZXN0KFxuICAgICAgICAgICAgICAnLmxheW91dC1idWlsZGVyLS1sYXlvdXRfX3JlZ2lvbicsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gaXRlbVJlZ2lvblswXSkge1xuICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBkZXN0aW5hdGlvbiBkZWx0YS5cbiAgICAgICAgICAgICAgY29uc3QgZGVsdGFUbyA9IHVpLml0ZW1cbiAgICAgICAgICAgICAgICAuY2xvc2VzdCgnW2RhdGEtbGF5b3V0LWRlbHRhXScpXG4gICAgICAgICAgICAgICAgLmRhdGEoJ2xheW91dC1kZWx0YScpO1xuICAgICAgICAgICAgICAvLyBJZiB0aGUgYmxvY2sgZGlkbid0IGxlYXZlIHRoZSBvcmlnaW5hbCBkZWx0YSB1c2UgdGhlIGRlc3RpbmF0aW9uLlxuICAgICAgICAgICAgICBjb25zdCBkZWx0YUZyb20gPSB1aS5zZW5kZXJcbiAgICAgICAgICAgICAgICA/IHVpLnNlbmRlci5jbG9zZXN0KCdbZGF0YS1sYXlvdXQtZGVsdGFdJykuZGF0YSgnbGF5b3V0LWRlbHRhJylcbiAgICAgICAgICAgICAgICA6IGRlbHRhVG87XG4gICAgICAgICAgICAgIGFqYXgoe1xuICAgICAgICAgICAgICAgIHVybDogW1xuICAgICAgICAgICAgICAgICAgdWkuaXRlbVxuICAgICAgICAgICAgICAgICAgICAuY2xvc2VzdCgnW2RhdGEtbGF5b3V0LXVwZGF0ZS11cmxdJylcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEoJ2xheW91dC11cGRhdGUtdXJsJyksXG4gICAgICAgICAgICAgICAgICBkZWx0YUZyb20sXG4gICAgICAgICAgICAgICAgICBkZWx0YVRvLFxuICAgICAgICAgICAgICAgICAgaXRlbVJlZ2lvbi5kYXRhKCdyZWdpb24nKSxcbiAgICAgICAgICAgICAgICAgIHVpLml0ZW0uZGF0YSgnbGF5b3V0LWJsb2NrLXV1aWQnKSxcbiAgICAgICAgICAgICAgICAgIHVpLml0ZW1cbiAgICAgICAgICAgICAgICAgICAgLnByZXYoJ1tkYXRhLWxheW91dC1ibG9jay11dWlkXScpXG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKCdsYXlvdXQtYmxvY2stdXVpZCcpLFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZWxlbWVudCA9PiBlbGVtZW50ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAuam9pbignLycpLFxuICAgICAgICAgICAgICB9KS5leGVjdXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAkKCcubGF5b3V0LWJ1aWxkZXItYmxvY2stcmVvcmRlci1wcmV2aW91cyBhJykub25jZSgpLm9uKCdjbGljay5sYXlvdXRidWlsZGVyJywgZSA9PiB7XG4gICAgICAgIGZ1bmN0aW9uIHNldENvbnRleHR1YWxMaW5rRm9jdXMobGluaykge1xuICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9ICQobGluaykuY2xvc2VzdCgnW2RhdGEtY29udGV4dHVhbC1pZF0nKS5maW5kKCdidXR0b24udHJpZ2dlcicpO1xuICAgICAgICAgICQobGluaykudHJpZ2dlcignYmx1cicpO1xuICAgICAgICAgIGJ1dHRvbi50cmlnZ2VyKCdmb2N1cycpO1xuICAgICAgICAgIGNvbnN0IHJldHVybkV2ZW50ID0galF1ZXJ5LkV2ZW50KFwia2V5ZG93blwiKTtcbiAgICAgICAgICByZXR1cm5FdmVudC53aGljaCA9IDEzOyAvLyAjIFNvbWUga2V5IGNvZGUgdmFsdWVcbiAgICAgICAgICBidXR0b24udHJpZ2dlcihyZXR1cm5FdmVudCk7XG4gICAgICAgICAgJChsaW5rKS5jbG9zZXN0KCdbZGF0YS1jb250ZXh0dWFsLWlkXScpLmZpbmQoJy5jb250ZXh0dWFsLWxpbmtzJykuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcbiAgICAgICAgICBjb25zdCB0YWJFdmVudCA9IGpRdWVyeS5FdmVudChcImtleWRvd25cIik7XG4gICAgICAgICAgdGFiRXZlbnQud2hpY2ggPSA5OyAvLyAjIFNvbWUga2V5IGNvZGUgdmFsdWVcbiAgICAgICAgICAkKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLnRyaWdnZXIodGFiRXZlbnQpO1xuICAgICAgICAgICQoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkudHJpZ2dlcih0YWJFdmVudCk7XG4gICAgICAgICAgJChkb2N1bWVudC5hY3RpdmVFbGVtZW50KS50cmlnZ2VyKHRhYkV2ZW50KTtcbiAgICAgICAgICAvL2J1dHRvbi50cmlnZ2VyKCdjbGljaycpO1xuICAgICAgICAgIC8vYnV0dG9uLmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VycmVudCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5kcmFnZ2FibGUnKTtcbiAgICAgICAgLy9jdXJyZW50LmNsYXNzTGlzdC5hZGQoJ2RyYWctY3VycmVudCcpO1xuICAgICAgICBjb25zdCBwcmV2ID0gY3VycmVudC5wcmV2KCk7XG4gICAgICAgIHByZXYuYmVmb3JlKGN1cnJlbnQpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHNldENvbnRleHR1YWxMaW5rRm9jdXMoZS50YXJnZXQpXG4gICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgbmV3Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICBuZXdOb2RlLmNsYXNzTGlzdC5hZGQoJ3VpLXN0YXRlLWRyb3AnKTtcblxuICAgICAgICBjdXJyZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5ld05vZGUsIGN1cnJlbnQpO1xuICAgICAgICAvL2N1cnJlbnQucHJldigpLmJlZm9yZShjdXJyZW50KTtcbiAgICAgICAgLy8kKCcubGF5b3V0LWJ1aWxkZXItLWxheW91dF9fcmVnaW9uJykuc29ydGFibGUoIFwicmVmcmVzaFwiICk7XG4gICAgICAgIC8vY3VycmVudC5zb3J0YWJsZSggXCJyZWZyZXNoUG9zaXRpb25zXCIgKTtcbiAgICAgICAgLy9hbGVydCgnamRmJyk7XG5cblxuICAgICAgfSk7XG4gICAgfSxcbiAgfTtcbn0pKGpRdWVyeSwgRHJ1cGFsKTtcbiJdfQ==